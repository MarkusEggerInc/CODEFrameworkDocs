<div class="wikidoc">
<h2>Notifications</h2>
<p>The WPF MVVM/MVC sub-set of CODE Framework features a standardized notification system. This allows to issue simple notifications to the user that may be displayed using “notification toasts” or similar visual paradigms. Notification messages are typically
 displayed for a short duration (10-12 seconds) and then disappear without any user interaction.</p>
<p>The CODE Framework notification system follows the same patterns as many sub-systems in the framework. In particular, the there is a simple way to issue notifications through the controller class like this:</p>
<div style="color:black">
<pre>Controller.Notification(<span style="color:#a31515">&quot;Hello World!&quot;</span>);
</pre>
</div>
<p>Notifications are then displayed in a matter that is specific to the chosen theme. The following screen shot shows notifications in a Metro-themed WPF application:</p>
<p><a href="http://download.codeplex.com/Download?ProjectName=codeframework&DownloadId=417902"><img title="image" border="0" alt="image" src="http://download.codeplex.com/Download?ProjectName=codeframework&DownloadId=417903" width="640" height="473" style="border-right-width:0px; padding-left:0px; padding-right:0px; display:inline; border-top-width:0px; border-bottom-width:0px; border-left-width:0px; padding-top:0px"></a></p>
<p>The exact visual style of the notification within Metro applications depends on standardized color settings. Here are the settings one can override:</p>
<pre><div style="color:black"><pre><span style="color:blue">&lt;</span><span style="color:#a31515">Color</span> <span style="color:red">x:Key</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">CODE.Framework-Metro-NotificationForegroundColor</span><span style="color:black">&quot;</span><span style="color:blue">&gt;</span>White<span style="color:blue">&lt;/</span><span style="color:#a31515">Color</span><span style="color:blue">&gt;</span>
<span style="color:blue">&lt;</span><span style="color:#a31515">Color</span> <span style="color:red">x:Key</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">CODE.Framework-Metro-NotificationBackgroundColor</span><span style="color:black">&quot;</span><span style="color:blue">&gt;</span>DarkRed<span style="color:blue">&lt;/</span><span style="color:#a31515">Color</span><span style="color:blue">&gt;</span></pre></div></pre>
<p>Of course it is also possible to completely restyle notifications.</p>
<p>The following screen shot shows the default appearance of notifications using the Battleship theme (Windows 95):</p>
<p><a href="http://download.codeplex.com/Download?ProjectName=codeframework&DownloadId=417904"><img title="image" border="0" alt="image" src="http://download.codeplex.com/Download?ProjectName=codeframework&DownloadId=417905" width="640" height="348" style="border-right-width:0px; padding-left:0px; padding-right:0px; display:inline; border-top-width:0px; border-bottom-width:0px; border-left-width:0px; padding-top:0px"></a></p>
<p>Notifications can be issued with a a few simple standard parameters, typically at least one or two lines of text, and sometimes an icon resource (stored as some sort of brush, often a drawing brush or an image brush). The following code snippet shows the
 code used to display the first of the notifications in the above screen shots:</p>
<pre><div style="color:black"><pre>Controller.Notification(<span style="color:#a31515">&quot;Fox &amp; Hound&quot;</span>,<br>                        <span style="color:#a31515">&quot;The quick brown fox jumps over the lazy dog.&quot;</span>,<br>                        imageResource: <span style="color:#a31515">&quot;Notification-Message&quot;</span>));</pre></div></pre>
<p>Note that it is up to each theme to determine how long each notification is displayed and how many notifications to display at once. Most themes display notifications for about 10 seconds and show up to 5 notifications. In most themes these settings can
 be changed by setting the MaximumNotificationCount and NotificationTimeout properties on the Shell (which can be easily done in the Shell’s style definition).</p>
<p>&nbsp;</p>
<h3>Custom Notifications</h3>
<p>Following a standard CODE Framework pattern, notifications messages use standardized view and view models under the hood to make the notification system tick. When a user calls Controller.Notification() as shown in the examples above, the system creates
 a standard notification view model and view, populates appropriate data in the model, and passes the result on for processing. This is just the default. Developers can take advantage of this setup and pass custom views and view models to the system to achieve
 complete freedom in what is being displayed in notification messages.</p>
<p>Consider the following example:</p>
<pre><div style="color:black"><pre>Controller.Notification(model: <span style="color:blue">new</span> ExampleNotificationViewModel(),<br>                        viewName: <span style="color:#a31515">&quot;ExampleNotification&quot;</span>, <br>                        controllerType: <span style="color:blue">typeof</span>(CustomerController));</pre></div></pre>
<p>This displays a custom notification that even includes an interactive element (button). It also uses a custom view. Here is the code for the view model:</p>
<pre><div style="color:black"><pre><span style="color:blue">public</span> <span style="color:blue">class</span> ExampleNotificationViewModel : NotificationViewModel <br>{ <br><span style="color:blue">    public</span> ExampleNotificationViewModel()<br>    {<br>        Text1 = <span style="color:#a31515">&quot;Click Now!&quot;</span>; <br>        Text2 = <span style="color:#a31515">&quot;This is an important...&quot;</span>; <br>        Logo1 = Application.Current.FindResource(<span style="color:#a31515">&quot;Notification-Message&quot;</span>) <span style="color:blue">as</span> Brush; <br>        ExampleAction = <span style="color:blue">new</span> ViewAction(<span style="color:#a31515">&quot;Example&quot;</span>, execute: (o, a) =&gt; <br>                                                  Controller.Message(<span style="color:#a31515">&quot;Well done!&quot;</span>)); <br>    } <br>  <br><br>    <span style="color:blue">public</span> ViewAction ExampleAction { <span style="color:blue">get</span>; <span style="color:blue">set</span>; } <br>}</pre></div></pre>
<p>And here is the actual view definition:</p>
<pre><div style="color:black"><pre><span style="color:blue">&lt;</span><span style="color:#a31515">Grid</span> <span style="color:red">xmlns</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">http://schemas.microsoft.com/winfx/2006/xaml/presentation</span><span style="color:black">&quot;</span><span style="color:blue">&gt;</span>
  <span style="color:blue">&lt;</span><span style="color:#a31515">Grid.ColumnDefinitions</span><span style="color:blue">&gt;</span>
    <span style="color:blue">&lt;</span><span style="color:#a31515">ColumnDefinition</span> <span style="color:red">Width</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">Auto</span><span style="color:black">&quot;</span> <span style="color:blue">/&gt;</span>
    <span style="color:blue">&lt;</span><span style="color:#a31515">ColumnDefinition</span> <span style="color:red">Width</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">*</span><span style="color:black">&quot;</span> <span style="color:blue">/&gt;</span>
  <span style="color:blue">&lt;/</span><span style="color:#a31515">Grid.ColumnDefinitions</span><span style="color:blue">&gt;</span>
 
  <span style="color:blue">&lt;</span><span style="color:#a31515">Rectangle</span> <span style="color:red">Height</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">60</span><span style="color:black">&quot;</span> <span style="color:red">Width</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">60</span><span style="color:black">&quot;</span> <span style="color:red">Margin</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">0,0,10,0</span><span style="color:black">&quot;</span> <span style="color:red">Fill</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">{Binding Logo1}</span><span style="color:black">&quot;</span> <span style="color:blue">/&gt;</span>
  <span style="color:blue">&lt;</span><span style="color:#a31515">StackPanel</span> <span style="color:red">Grid.Column</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">1</span><span style="color:black">&quot;</span><span style="color:blue">&gt;</span>
    <span style="color:blue">&lt;</span><span style="color:#a31515">Button</span> <span style="color:red">Content</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">{Binding Text1}</span><span style="color:black">&quot;</span> <span style="color:red">Command</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">{Binding ExampleAction}</span><span style="color:black">&quot;</span> <span style="color:blue">/&gt;</span>
    <span style="color:blue">&lt;</span><span style="color:#a31515">TextBlock</span> <span style="color:red">TextWrapping</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">Wrap</span><span style="color:black">&quot;</span> <span style="color:red">Text</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">{Binding Text2}</span><span style="color:black">&quot;<br></span>               <span style="color:red">FontSize</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">{DynamicResource FontSize-Normal}</span><span style="color:black">&quot;</span><br>               <span style="color:red">FontFamily</span><span style="color:blue">=</span><span style="color:black">&quot;</span><span style="color:blue">{DynamicResource DefaultFont}</span><span style="color:black">&quot;</span><span style="color:blue">/&gt;</span>
  <span style="color:blue">&lt;/</span><span style="color:#a31515">StackPanel</span><span style="color:blue">&gt;</span>
<span style="color:blue">&lt;/</span><span style="color:#a31515">Grid</span><span style="color:blue">&gt;</span></pre></div></pre>
<p>Note that this view has to be defined in one of the standard view locations. If that location is not the shared location (typically it isn’t), then the system needs to know which controller the view goes with in order to find the view, which is why the controller
 type has to be passed as a parameter in the example above. This information provides overall execution context, so view engines can find their way around.</p>
<p>This results in the following UI:</p>
<p><a href="http://download.codeplex.com/Download?ProjectName=codeframework&DownloadId=417906"><img title="image" border="0" alt="image" src="http://download.codeplex.com/Download?ProjectName=codeframework&DownloadId=417907" width="640" height="194" style="border-right-width:0px; padding-left:0px; padding-right:0px; display:inline; border-top-width:0px; border-bottom-width:0px; border-left-width:0px; padding-top:0px"></a></p>
<p><em>Note: Be careful with the amount of interactivity you put into notifications. Notifications are messages that are displayed for short periods of time. They are not suited for interaction that goes beyond a single click or something comparable since they
 are simply not on screen long enough. (Some themes may choose to only show a single notification at a time and thus scroll notifications through very quickly, or they may choose to show notifications for only 3 or 4 seconds or less.)</em></p>
<p>Note that it is also possible to add explicitly coded actions to a controller that returns a Notification Message. In most cases, this doesn’t provide much of a benefit though and is rarely done.</p>
</div><div class="ClearBoth"></div>