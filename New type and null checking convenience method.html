<div class="wikidoc">
<p><span style="color:#808080"><em>Excerpt from an internal email at EPS/CODE:</em></span></p>
<h2>Type and Null Checking Convenience Methods</h2>
<p>FYI: You guys have probably all seen and written code like that:&nbsp;&nbsp;</p>
<div style="color:black; background-color:white">
<pre><span style="color:blue">var</span> element = FindElement(elementName);
<span style="color:blue">if</span> (element == <span style="color:blue">null</span>) <span style="color:blue">return</span> <span style="color:blue">false</span>;
<span style="color:blue">var</span> frameworkElement = element <span style="color:blue">as</span> FrameworkElement;
<span style="color:blue">if</span> (frameworkElement == <span style="color:blue">null</span>) <span style="color:blue">return</span> <span style="color:blue">false</span>;
ApplyStyleToObject(style, frameworkElement);
</pre>
</div>
<p>So this code gets some object somewhere, then checks if it is null, then checks if it is a certain type, and if that is all &ldquo;for real&rdquo;, then it can do something with it.</p>
<p>I have written this code hundreds of times. It is annoying. And it basically performs a single line operation but requires several additional lines of checking to make sure everything is cool. Lots of &ldquo;noise&rdquo; and little actual stuff happening.</p>
<p>I have now grown so tired of this, I created a convenience object in the CODE Framework to help me with this. If you find it useful, go ahead and use it. Basically, it is defined on a static class called &ldquo;If&rdquo; and that has a method called &ldquo;Real&rdquo;.
 You can tell Real() what type you expect and if that is all good, then it executes code you give it. So the above code can now be re-written like so:</p>
<pre><span style="color:blue">var</span><span style="color:black">&nbsp;element&nbsp;=&nbsp;FindElement(elementName);<br></span><span style="color:#2b91af">If</span><span style="color:black">.Real&lt;</span><span style="color:#2b91af">FrameworkElement</span><span style="color:black">&gt;(element,&nbsp;el2&nbsp;=&gt;&nbsp;ApplyStyleToObject(style,&nbsp;el2));</span></pre>
<p>So what happens here is that we are passing the object in question to the Real() method (&ldquo;element&rdquo; in this example). If.Real() then checks to make sure element is not null, and element is in fact a FrameworkElement, and if that is all good, it
 executes the code passed as the second parameter and passes element on, but this time types as FrameworkElement. So that becomes the first parameter, which I then use as a lambda and then run the same code we had in the original version.</p>
<p>This also works with 2 objects, btw:</p>
<pre><span style="color:blue">var</span><span style="color:black">&nbsp;element&nbsp;=&nbsp;FindElement(elementName);<br></span><span style="color:blue">var</span><span style="color:black">&nbsp;style&nbsp;=&nbsp;FindStyle(styleName);<br></span><span style="color:#2b91af">If</span><span style="color:black">.Real&lt;</span><span style="color:#2b91af">FrameworkElement, Style</span><span style="color:black">&gt;(element,&nbsp;style, (el2, s2)&nbsp;=&gt;&nbsp;ApplyStyleToObject(s2,&nbsp;el2));</span></pre>
<p>So in that case, element and style must not be null, and they must be of type FrameworkElement and Style respectively, for the ApplyStyleToObject(&hellip;) code to execute.</p>
<p>There you have it! Just a simple little thing that can make your life easier.</p>
</div><div class="ClearBoth"></div>